class e{Id;Element;constructor(e){this.Id=e,this.Element=document.getElementById(e)}addEventListener(e,t){this.Element.addEventListener(e,t)}}class t extends e{EditingMode=!1;constructor(e){super(e)}get type(){return this.constructor.name}get value(){}set value(e){}SetEditingMode(e){}SetError(e){}GetLastValue(){}Validate(){return!0}}const r={Component:e,Form:class extends e{Inputs={};Locked=!1;constructor(e,t){super(e),function(e,t,r){e.Id=t,e.Element=document.getElementById(t),e.Inputs=r,e.Element.addEventListener("submit",(e=>{e.preventDefault()}))}(this,e,t)}Lock(e){!function(e,t){const r=new CustomEvent("locked"),n=new CustomEvent("unlocked");e.Locked=t;var a=!e.Locked;for(var s in e.Inputs){e.Inputs[s].SetEditingMode(a)}t?e.Element.dispatchEvent(r):e.Element.dispatchEvent(n)}(this,e)}Reset(){}AcceptChanges(){}IsChanged(){return!0}NewData(){}Render(){var e;"true"===(e=this).Element.getAttribute("locked").toLowerCase()&&e.Lock(!0)}},Button:class extends e{constructor(e){var t;super(e),(t=this).Element.classList.add("fgta5-button"),t.Element.setAttribute("type","button")}#e=!1;get Disabled(){return this.#e}set Disabled(e){var t;this.#e=e,t=e,this.Element.disabled=t}},Textbox:class extends t{constructor(e){super(e),function(e){const t=document.createElement("div");e.Wrapper=document.createElement("div"),e.Element.classList.add("fgta5-textbox"),e.Label=document.querySelector(`label[for="${e.Id}"]`),e.Element.parentNode.insertBefore(e.Wrapper,e.Element),e.Wrapper.appendChild(e.Element),e.Wrapper.classList.add("fgta5-wrapper-textbox"),e.Wrapper.parentNode.insertBefore(t,e.Wrapper),t.appendChild(e.Wrapper),t.classList.add("fgta5-input-container"),e.Element.addEventListener("change",(t=>{e.Validate()||t.stopImmediatePropagation()}))}(this)}get value(){return this.Element.value}set value(e){this.Element.value=e}SetEditingMode(e){!function(e,t){if(e.EditingMode=t,e.Element.disabled)return;t?(e.Element.classList.add("fgta5-input-editmode"),e.Element.readOnly=!1,e.Wrapper.removeAttribute("readonly")):(e.Element.classList.remove("fgta5-input-editmode"),e.Element.readOnly=!0,e.Wrapper.setAttribute("readonly","true"))}(this,e)}SetError(e){!function(e,t){var r=t;void 0===t?r=e.Element.getAttribute("errormessage"):null===t&&(r=null);r?(e.Element.classList.add("fgta5-input-error"),e.Wrapper.classList.add("fgta5-input-error")):(e.Element.classList.remove("fgta5-input-error"),e.Wrapper.classList.remove("fgta5-input-error"))}(this,e)}Validate(){return function(e){var t=e.Element.getAttribute("minlength"),r=e.Element.getAttribute("maxlength"),n=(e.Element.getAttribute("validator"),e.Element.getAttribute("invalid")),a=null!=e.Element.getAttribute("required"),s=null==e.value||""==e.value,i=e.Label?e.Label.innerText:null;try{if(a&&s){var l=null!=n?n:`field '${i}' is required`;throw new Error(l)}if(!function(e,t,r){return!(t&&e.length<t||r&&e.length>r)}(e.value,t,r)){l=null!=n?n:`field '${i}' must be at least ${t} and maximum ${r} characters long`;throw new Error(l)}if(l=void e.value)throw new Error(l);return(d=e.Wrapper.parentNode.querySelector(".fgta5-errormessage"))&&d.parentNode.removeChild(d),!0}catch(t){var d;return e.SetError(t.message),(d=e.Wrapper.parentNode.querySelector(".fgta5-errormessage"))||((d=document.createElement("div")).innerText=t.message,d.classList.add("fgta5-errormessage"),e.Wrapper.parentNode.appendChild(d)),!1}}(this)}},Combobox:class extends t{constructor(e){super(e),function(e){const t=document.createElement("div"),r=e.Element,n=document.querySelector(`label[for="${e.Id}"]`),a=document.createElement("input"),s=document.createElement("button"),i=document.createElement("div");e.Display=a,e.Button=s,e.Wrapper=i,e.Label=n,r.setAttribute("type","hidden"),r.parentNode.insertBefore(i,r),a.setAttribute("type","text"),a.setAttribute("readonly",!0),a.setAttribute("autocomplete","off"),a.setAttribute("spellcheck","false"),a.setAttribute("placeholder",e.Element.getAttribute("placeholder")),a.classList.add("fgta5-combobox-display"),s.setAttribute("type","button"),s.classList.add("fgta5-combobox-button"),s.innerHTML='<svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="5" stroke-linecap="round" stroke-linejoin="round" transform="translate(0 3)"><path d="M6 9l6 6 6-6"/></svg>',s.addEventListener("click",(()=>{})),i.appendChild(a),i.appendChild(s),i.classList.add("fgta5-wrapper-textbox"),i.parentNode.insertBefore(t,i),t.appendChild(i),t.classList.add("fgta5-input-container")}(this)}SetEditingMode(e){!function(e,t){if(e.EditingMode=t,e.Button.disabled)return;t?(e.Display.classList.add("fgta5-input-editmode"),e.Wrapper.removeAttribute("readonly"),e.Button.style.visibility="visible"):(e.Display.classList.remove("fgta5-input-editmode"),e.Wrapper.setAttribute("readonly","true"),e.Button.style.visibility="hidden")}(this,e)}}};export{r as default};
