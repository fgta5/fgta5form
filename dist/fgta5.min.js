let t=0;class e{Id;Element;constructor(t){null!=t&&(this.Id=t,this.Element=document.getElementById(t))}addEventListener(t,e){this.Element.addEventListener(t,e)}static GenerateId(){return"comp-"+ ++t}}class n extends e{constructor(t){super(t),function(t){const e=document.createElement("div"),n=document.createElement("input");n.setAttribute("type","hidden"),n.classList.add("fgta5-entry-lastvalue"),e.classList.add("fgta5-entry-container"),t.Element.getInputCaption=()=>t.Id,t.Nodes={Input:t.Element,Container:e,LastValue:n}}(this),function(t){const e=t.Nodes.Input.getAttribute("fgta5-component");var n=t.Nodes.Input.getAttribute("invalid-message"),i=t.Nodes.Input.getAttribute("required");if(null!=i&&"false"!==i.toLowerCase()){var r=window.$validators.getInvalidMessage("required",t.Nodes.Input,n);t.AddValidator("required",null,r)}var s=t.Nodes.Input.getAttribute("minlength");if(null!=s&&(s=parseInt(s),!isNaN(s))){r=window.$validators.getInvalidMessage("minlength",t.Nodes.Input,n);t.AddValidator("minlength",s,r)}var a=t.Nodes.Input.getAttribute("maxlength");if(null!=a&&(a=parseInt(a),!isNaN(a))){r=window.$validators.getInvalidMessage("maxlength",t.Nodes.Input,n);t.AddValidator("maxlength",a,r)}var o=t.Nodes.Input.getAttribute("pattern");if(null!=o&&""!==o.trim()){r=window.$validators.getInvalidMessage("pattern",t.Nodes.Input,n);t.AddValidator("pattern",o,r)}var d=t.Nodes.Input.getAttribute("min");if(null!=d)if("Datepicker"==e){var l=new Date(d);r=window.$validators.getInvalidMessage("min",t.Nodes.Input,n);t.AddValidator("mindate",l,r)}else if("Timepicker"==e){var u=d;r=window.$validators.getInvalidMessage("min",t.Nodes.Input,n);t.AddValidator("mintime",u,r)}else if(d=parseInt(d),!isNaN(d)){r=window.$validators.getInvalidMessage("min",t.Nodes.Input,n);t.AddValidator("min",d,r)}var c=t.Nodes.Input.getAttribute("max");if(null!=c)if("Datepicker"==e){var p=new Date(c);r=window.$validators.getInvalidMessage("max",t.Nodes.Input,n);t.AddValidator("maxdate",p,r)}else if("Timepicker"==e){var m=c;r=window.$validators.getInvalidMessage("max",t.Nodes.Input,n);t.AddValidator("maxtime",m,r)}else if(c=parseInt(c),!isNaN(c)){r=window.$validators.getInvalidMessage("max",t.Nodes.Input,n);t.AddValidator("max",c,r)}var v=t.Nodes.Input.getAttribute("validator");if(null!=v&&""!==v.trim()){v=v.split(",");for(var h=0;h<v.length;h++){var f=v[h].trim(),{fnName:g,fnParams:b}=$fgta5.Validators.parseFunctionParam(f);r=window.$validators.getInvalidMessage("pattern",t.Nodes.Input,n);t.AddValidator(g,b,r)}}}(this)}get Type(){return this.constructor.name}get Value(){return this.Element.value}set Value(t){this.Element.value=t}get Disabled(){return this.Element.disabled}set Disabled(t){this.Element.disabled=t}#t;get Form(){return this.#t}bindForm(t){this.#t=t}#e=!0;get InEditMode(){return this.#e}SetEditingMode(t){this.#e=t}NewData(t){!function(t,e){null==e?e="":e instanceof Date?e=e.toISOString().split("T")[0]:"string"!=typeof e&&(e=String(e));t.Value=e,t._setLastValue(t.Value),t.SetError(null)}(this,t)}AcceptChanges(){var t;(t=this)._setLastValue(t.Value),t.Nodes.Input.removeAttribute("changed"),t.SetError(null)}Reset(){var t;(t=this).Value=t.GetLastValue(),t.Nodes.Input.removeAttribute("changed"),t.SetError(null)}IsChanged(){return(t=this).GetLastValue()!=t.Value;var t}SetError(t){!function(t,e){var n=t.Nodes.Container.querySelector(".fgta5-entry-error");null!==e&&""!==e?(t.Nodes.Input.setAttribute("invalid","true"),n||((n=document.createElement("div")).classList.add("fgta5-entry-error"),t.Nodes.Container.insertBefore(n,t.Nodes.InputWrapper.nextSibling)),n.innerHTML=e):(t.Nodes.Input.removeAttribute("invalid"),n&&n.remove())}(this,t)}_setLastValue(t){!function(t,e){t.Nodes.LastValue.value=e}(this,t)}GetLastValue(){return this.Nodes.LastValue.value}GetBindingData(){var t=this.Element.getAttribute("binding");return null===t?null:t}Validate(){return function(t){for(const[i,r]of Object.entries(t.Validators)){const s=$validators[i],a=r.param,o=r.message;try{if("function"!=typeof s)throw e=new Error(`Validator function '${i}' is not defined or not a function`);if("mindate"==i);if(!s(t.Value,a)){var e=new Error(`Invalid value '${t.Value}' for '${t.Nodes.Input.getInputCaption()}' using validator '${i}(${a??""})'`),n=o;throw null!==n&&""!==n||(n=e.message),new Error(n)}}catch(e){return t.SetError(e.message),!1}}return!0}(this)}#n={};get Validators(){return this.#n}AddValidator(t,e,n){this.#n[t]={param:e,message:n}}RemoveValidator(t){void 0!==this.#n[t]&&delete this.#n[t]}_setupDescription(){var t=this.Element.getAttribute("description");if(null!==t&&""!==t.trim()){t=t.trim();const e=document.createElement("div");e.classList.add("fgta5-entry-description"),e.innerHTML=t,this.Nodes.Container.appendChild(e)}}}class i extends n{constructor(t){super(t),function(t,e){const n=t.Nodes.Container,i=t.Nodes.LastValue,r=t.Nodes.Input,s=document.createElement("div"),a=document.querySelector(`label[for="${e}"]`);r.classList.add("fgta5-entry-input"),r.parentNode.insertBefore(n,r),s.classList.add("fgta5-entry-input-wrapper"),s.appendChild(r),n.appendChild(s),n.appendChild(i),""!==r.style.backgroundColor&&(s.style.backgroundColor=r.style.backgroundColor,r.style.backgroundColor="transparent");var o=t.Element.getAttribute("character-case");null!==o&&""!==o.trim()&&(r.charCase=o.trim().toLowerCase());t._setLastValue(t.Value),t._setupDescription(),r.addEventListener("input",(function(e){t.GetLastValue()!=t.Value?r.setAttribute("changed","true"):r.removeAttribute("changed")})),r.addEventListener("blur",(function(e){!function(t){t.InEditMode&&(t.SetError(null),t.Validate())}(t)})),t.Nodes.InputWrapper=s,t.Nodes.Label=a,t.Nodes.Input.getInputCaption=()=>a.innerHTML}(this,t)}get Value(){return function(t){var e=t.Nodes.Input,n=e.value;"uppercase"===e.charCase?n=n.toUpperCase():"lowercase"===e.charCase&&(n=n.toLowerCase());return n}(this)}set Value(t){this.Element.value=t}#e=!0;get InEditMode(){return this.#e}SetEditingMode(t){this.#e=t,function(t,e){var n=e?"true":"false";t.Nodes.Input.setAttribute("editmode",n),t.Nodes.InputWrapper.setAttribute("editmode",n),e?t.Nodes.Input.removeAttribute("readonly"):(t.Nodes.Input.setAttribute("readonly","true"),t.SetError(null))}(this,t)}}class r extends n{constructor(t){super(t),this.formatterFixed=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),function(t,e){const n=t.Nodes.Container,i=t.Nodes.LastValue,r=t.Nodes.Input,s=document.createElement("div"),a=document.createElement("input"),o=document.querySelector(`label[for="${e}"]`);r.classList.add("fgta5-entry-input"),r.parentNode.insertBefore(n,r),r.setAttribute("type","hidden"),s.classList.add("fgta5-entry-input-wrapper"),a.classList.add("fgta5-entry-display"),s.appendChild(a),s.appendChild(r),n.appendChild(s),n.appendChild(i),t._setupDescription();var d=t.Element.getAttribute("precision");null!==d&&""!==d.trim()?(d=parseInt(d.trim()),(isNaN(d)||d<0)&&(d=0),a.setAttribute("precision",d)):(d=0,a.setAttribute("precision",d));r.precision=d,t.formatterFixed.minimumFractionDigits=d,t.formatterFixed.maximumFractionDigits=d,(null===r.value||""===r.value)&&(r.value="0");t._setLastValue(r.value),a.value=t.formatterFixed.format(r.value),a.id=t.Id+"-display",a.min=r.min,a.max=r.max,a.minlength=r.minlength,a.maxlength=r.maxlength,a.required=r.required,a.setAttribute("style",r.getAttribute("style")||""),a.setAttribute("type","text"),a.setAttribute("fgta5-component","Numberbox"),o.setAttribute("for",a.id),a.addEventListener("focus",(e=>{!function(t){var e=t.Nodes.Display,n=t.Nodes.Input;if(t.InEditMode){e.setAttribute("type","number");var i=Number(n.value);e.value=i}}(t)})),a.addEventListener("blur",(e=>{!function(t){var e=t.Nodes.Display,n=t.Nodes.Input;if(t.InEditMode){var i=Number(e.value);if(isNaN(i))t.SetError("Invalid number");else{t.SetError(null),n.value=i,t.Validate();var r=t.formatterFixed.format(i);e.setAttribute("type","text"),e.value=r}}}(t)})),a.addEventListener("input",(t=>{a.value!==i.value?a.setAttribute("changed","true"):a.removeAttribute("changed")})),t.Nodes.InputWrapper=s,t.Nodes.Label=o,t.Nodes.Display=a,t.Nodes.Input.getInputCaption=()=>o.innerHTML}(this,t)}get Value(){return this.Element.value}set Value(t){var e,n,i;this.Element.value=t,e=this,n=Number(e.Nodes.Input.value),i=e.formatterFixed.format(n),"text"===e.Nodes.Display.type?e.Nodes.Display.value=i:e.Nodes.Display.value=n}get Disabled(){return this.Element.disabled}set Disabled(t){this.Element.disabled=t,function(t,e){t.Nodes.Display.disabled=!!e}(this,t)}#e=!0;get InEditMode(){return this.#e}SetEditingMode(t){this.#e=t,function(t,e){var n=e?"true":"false";t.Nodes.Display.setAttribute("editmode",n),t.Nodes.Input.setAttribute("editmode",n),t.Nodes.InputWrapper.setAttribute("editmode",n),e?(t.Nodes.Input.removeAttribute("readonly"),t.Nodes.Display.removeAttribute("readonly")):(t.Nodes.Input.setAttribute("readonly","true"),t.Nodes.Display.setAttribute("readonly","true"),t.SetError(null))}(this,t)}AcceptChanges(){super.AcceptChanges(),this.Nodes.Display.removeAttribute("changed")}Reset(){super.Reset(),this.Nodes.Display.removeAttribute("changed")}SetError(t){super.SetError(t),function(t,e){null!==e&&""!==e?t.Nodes.Display.setAttribute("invalid","true"):t.Nodes.Display.removeAttribute("invalid")}(this,t)}addEventListener(t,e){this.Nodes.Display.addEventListener(t,e)}}class s extends n{constructor(t){super(t),function(t,e){const n=t.Nodes.Container,i=t.Nodes.LastValue,r=t.Nodes.Input,s=document.querySelector(`label[for="${e}"]`);r.classList.add("fgta5-checkbox-input"),r.parentNode.insertBefore(n,r);var a=document.createTextNode(s.innerHTML),o=document.createElement("label");o.classList.add("fgta5-checkbox"),o.text=a,n.appendChild(o),n.appendChild(i),o.appendChild(r),o.appendChild(a),s.innerHTML="",s.removeAttribute("for"),t._setLastValue(t.Value),r.addEventListener("change",(e=>{t.GetLastValue()!=t.Value?r.setAttribute("changed","true"):r.removeAttribute("changed")})),t.Nodes.Caption=o,t.Nodes.Label=s}(this,t)}get Value(){return this.Element.checked?1:0}set Value(t){this.Element.checked=t}get Disabled(){return function(t){var e=t.Nodes.Input.getAttribute("permanent-disabled");if(null===e)return!1;if("true"===e)return!0;return!1}(this)}set Disabled(t){this.Element.disabled=t,function(t,e){var n=t.Nodes.Input.getAttribute("editmode"),i=null!=n&&""!=n&&"false"!=n;e?(t.Nodes.Input.setAttribute("permanent-disabled","true"),t.Nodes.Caption.setAttribute("permanent-disabled","true")):(t.Nodes.Input.removeAttribute("permanent-disabled"),t.Nodes.Caption.removeAttribute("permanent-disabled"),i||(t.Nodes.Input.disabled=!0))}(this,t)}#e=!0;get InEditMode(){return this.#e}SetEditingMode(t){this.#e=t,function(t,e){var n=e?"true":"false",i=t.Nodes.Input.getAttribute("permanent-disabled"),r=null!=i&&""!=i&&"false"!=i;t.Nodes.Input.setAttribute("editmode",n),e?r?t.Nodes.Input.setAttribute("disabled","true"):t.Nodes.Input.removeAttribute("disabled"):t.Nodes.Input.setAttribute("disabled","true")}(this,t)}_setLastValue(t){!function(t,e){t.Nodes.LastValue.value=e}(this,t)}}const a='<svg transform="translate(0 3)" width="12" height="12" stroke="currentColor" stroke-linecap="round" version="1.1" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n\t\t<rect x="1.3095" y="6.6682" width="21.393" height="1.8579" fill="none" stroke-width="2"/>\n\t\t<rect x=".81949" y="10" width="22.341" height="13.251" fill="none" stroke-width="1.02"/>\n\t\t<rect x="3.8664" y="1.1531" width="2.5776" height="1.4923" fill="none" stroke-width="2"/>\n\t\t<rect x="17.223" y="1.1203" width="2.5776" height="1.6958" fill="none" stroke-width="2"/>\n\t\t<path d="m1.2888 16.278 21.367-0.13566" fill="none" stroke-width="1.02"/>\n\t\t<path d="m8.2775 10.07-0.13566 12.888" fill="none" stroke-width="1.02"/>\n\t\t<path d="m15.799 9.9671-0.13566 12.888" fill="none" stroke-width="1.02"/>\n\t\t</svg>';class o extends n{constructor(t){super(t),function(t,e){const n=t.Nodes.Container,i=t.Nodes.LastValue,r=t.Nodes.Input,s=document.createElement("div"),o=document.createElement("input"),l=document.createElement("button"),u=document.querySelector(`label[for="${e}"]`);r.parentNode.insertBefore(n,r),s.classList.add("fgta5-entry-input-wrapper"),o.classList.add("fgta5-entry-display"),o.classList.add("fgta5-entry-display-datepicker"),l.classList.add("fgta5-entry-button-datepicker"),s.appendChild(o),s.appendChild(l),l.innerHTML=a,l.insertBefore(r,l.firstChild),n.appendChild(s),n.appendChild(i),o.setAttribute("type","text"),o.setAttribute("fgta5-component","Datepicker"),o.setAttribute("readonly","true");var c=r.getAttribute("placeholder");null!=c&&""!=c&&o.setAttribute("placeholder",c);var p=r.getAttribute("class");null!=p&&""!=p&&o.setAttribute("class",p);var m=r.getAttribute("style");null!=m&&""!=m&&o.setAttribute("style",m);r.setAttribute("type","date"),r.removeAttribute("class"),r.removeAttribute("style"),r.classList.add("fgta5-entry-input"),r.classList.add("fgta5-entry-input-datepicker"),r.addEventListener("change",(e=>{!function(t){d(t,t.Nodes.Input.value),t.InEditMode&&(t.SetError(null),t.Validate())}(t)})),l.id=t.Id+"-button",u.setAttribute("for",l.id),t._setupDescription(),t.Nodes.InputWrapper=s,t.Nodes.Label=u,t.Nodes.Display=o,t.Nodes.Button=l,null===r.value||""===r.value?t.Value=new Date:t.Value=r.value;t._setLastValue(r.value),t.Nodes.Input.getInputCaption=()=>u.innerHTML}(this,t)}get Value(){return this.Element.value}set Value(t){t instanceof Date&&(t=t.toISOString().split("T")[0]),this.Element.value=t,d(this,t)}get Min(){return""!=this.Element.min?new Date(this.Element.min):null}set Min(t){t instanceof Date?this.Element.min=t.toISOString().split("T")[0]:"string"==typeof t&&(this.Element.min=t)}get Max(){return""!=this.Element.max?new Date(this.Element.max):null}set Max(t){t instanceof Date?this.Element.max=t.toISOString().split("T")[0]:"string"==typeof t&&(this.Element.max=t)}get Disabled(){return this.Element.disabled}set Disabled(t){this.Element.disabled=t,function(t,e){e?(t.Nodes.Display.disabled=!0,t.Nodes.InputWrapper.setAttribute("disabled","true"),t.Nodes.Button.setAttribute("disabled","true")):(t.Nodes.Display.disabled=!1,t.Nodes.InputWrapper.removeAttribute("disabled"),t.Nodes.Button.removeAttribute("disabled"))}(this,t)}#e=!0;get InEditMode(){return this.#e}SetEditingMode(t){this.#e=t,function(t,e){var n=e?"true":"false";t.Nodes.Display.setAttribute("editmode",n),t.Nodes.Input.setAttribute("editmode",n),t.Nodes.InputWrapper.setAttribute("editmode",n),e?t.Nodes.Input.removeAttribute("readonly"):(t.Nodes.Input.setAttribute("readonly","true"),t.SetError(null))}(this,t)}SetError(t){super.SetError(t),function(t,e){null!==e&&""!==e?t.Nodes.Display.setAttribute("invalid","true"):t.Nodes.Display.removeAttribute("invalid")}(this,t)}NewData(t){""!=t&&null!=t||(t=new Date),super.NewData(t)}}function d(t,e){const n=new Date(e).toLocaleDateString("en-ID",{day:"2-digit",month:"short",year:"numeric"}).replace(".","");t.Nodes.Display.value=n}const l='<?xml version="1.0" encoding="UTF-8"?>\n<svg transform="translate(0 3)" width="12" height="12" stroke="currentColor" stroke-linecap="round" version="1.1" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n<path d="m12.339 12.142 0.01403-6.5322" fill="none" stroke-width="2"/>\n<path d="m8.4232 14.469 3.7103-1.9861" fill="none" stroke-width="2.4"/>\n<ellipse cx="12.004" cy="11.983" rx="10.102" ry="9.9964" fill="none" stroke="#d4aa00" stroke-width="1.6"/>\n<path d="m1.8825 11.645c0.68615-12.959 19.274-13.28 20.26-0.19198" fill="none" stroke-width="2.4"/>\n<path d="m22.115 11.629c-0.4442 13.693-19.881 13.619-20.217 0.50701" fill="none" stroke-width="2.4"/>\n</svg>\n';class u extends n{constructor(t){super(t),function(t,e){const n=t.Nodes.Container,i=t.Nodes.LastValue,r=t.Nodes.Input,s=document.createElement("div"),a=document.createElement("input"),o=document.createElement("button"),d=document.querySelector(`label[for="${e}"]`);r.parentNode.insertBefore(n,r),s.classList.add("fgta5-entry-input-wrapper"),a.classList.add("fgta5-entry-display"),a.classList.add("fgta5-entry-display-datepicker"),o.classList.add("fgta5-entry-button-datepicker"),s.appendChild(a),s.appendChild(o),o.innerHTML=l,o.insertBefore(r,o.firstChild),n.appendChild(s),n.appendChild(i),a.setAttribute("type","text"),a.setAttribute("picker","time"),a.setAttribute("fgta5-component","Timepicker"),a.setAttribute("readonly","true");var u=r.getAttribute("placeholder");null!=u&&""!=u&&a.setAttribute("placeholder",u);var p=r.getAttribute("class");null!=p&&""!=p&&a.setAttribute("class",p);var m=r.getAttribute("style");null!=m&&""!=m&&a.setAttribute("style",m);r.setAttribute("type","time"),r.setAttribute("picker","time"),r.removeAttribute("class"),r.removeAttribute("style"),r.classList.add("fgta5-entry-input"),r.classList.add("fgta5-entry-input-datepicker"),r.addEventListener("change",(e=>{!function(t){c(t,t.Nodes.Input.value),t.InEditMode&&(t.SetError(null),t.Validate())}(t)})),o.id=t.Id+"-button",d.setAttribute("for",o.id),t._setupDescription(),t.Nodes.InputWrapper=s,t.Nodes.Label=d,t.Nodes.Display=a,t.Nodes.Button=o,null===r.value||""===r.value?t.Value="00:00":t.Value=r.value;t._setLastValue(r.value),t.Nodes.Input.getInputCaption=()=>d.innerHTML}(this,t)}get Min(){return this.Element.min}set Min(t){this.Element.min=t}get Max(){return this.Element.max}set Max(t){this.Element.max=t}get Value(){return this.Element.value}set Value(t){c(this,t)}get Disabled(){return this.Element.disabled}set Disabled(t){this.Element.disabled=t,function(t,e){e?(t.Nodes.Display.disabled=!0,t.Nodes.InputWrapper.setAttribute("disabled","true"),t.Nodes.Button.setAttribute("disabled","true")):(t.Nodes.Display.disabled=!1,t.Nodes.InputWrapper.removeAttribute("disabled"),t.Nodes.Button.removeAttribute("disabled"))}(this,t)}#e=!0;get InEditMode(){return this.#e}SetEditingMode(t){this.#e=t,function(t,e){var n=e?"true":"false";t.Nodes.Display.setAttribute("editmode",n),t.Nodes.Input.setAttribute("editmode",n),t.Nodes.InputWrapper.setAttribute("editmode",n),e?t.Nodes.Input.removeAttribute("readonly"):(t.Nodes.Input.setAttribute("readonly","true"),t.SetError(null))}(this,t)}SetError(t){super.SetError(t),function(t,e){null!==e&&""!==e?t.Nodes.Display.setAttribute("invalid","true"):t.Nodes.Display.removeAttribute("invalid")}(this,t)}NewData(t){""!=t&&null!=t||(t="00:00"),super.NewData(t)}}function c(t,e){t.Nodes.Display.value=e}const p=new CustomEvent("locked"),m=new CustomEvent("unlocked");function v(t,e){var n=t.Element,i=!e;for(var r in t.Inputs){t.Inputs[r].SetEditingMode(i)}return e?(n.dispatchEvent(p),n.setAttribute("locked",e)):(n.dispatchEvent(m),n.removeAttribute("locked")),e}const h={info:"fgta5-icon-info",warning:"fgta5-icon-warning",error:"fgta5-icon-error",question:"fgta5-icon-question"};class f{Text="button";constructor(t){this.Text=t}}class g{static ButtonOkCancel=Object.freeze({ok:new f("Ok"),cancel:new f("Cancel")});static ButtonYesNo=Object.freeze({yes:new f("Yes"),no:new f("No")});static ButtonYesNoCancel=Object.freeze({yes:new f("Yes"),no:new f("No"),cancel:new f("Cancel")});static async Show(t,e){return await b(t,e)}static async Error(t){return await async function(t){return await b(t,{iconcss:"error"})}(t)}static async Info(t){return await async function(t){return await b(t,{iconcss:"info"})}(t)}static async Warning(t){return await async function(t){return await b(t,{iconcss:"warning"})}(t)}static async Confirm(t,e){return await async function(t,e){return e=void 0===e?g.ButtonOkCancel:e,await b(t,{iconcss:"question",buttons:e})}(t,e)}}async function b(t,e){void 0===e&&(e={});var n=function(t,e){const n=document.createElement("dialog");if(n.classList.add("fgta5-messagebox-dialog"),n.addEventListener("close",(t=>{n.parentNode.removeChild(n)})),e.title&&(n.divTitle=document.createElement("div"),n.divTitle.classList.add("fgta5-messagebox-title"),n.divTitle.innerHTML=e.title,n.appendChild(n.divTitle)),e.iconcss){var i=h[e.iconcss]?h[e.iconcss]:e.iconcss;n.divIcon=document.createElement("div"),n.divIcon.classList.add("fgta5-messagebox-icon"),n.divIcon.classList.add(i),n.appendChild(n.divIcon)}return n.divContent=document.createElement("div"),n.divContent.classList.add("fgta5-messagebox-content"),n.divContent.innerHTML=t,n.appendChild(n.divContent),n.divButtons=document.createElement("div"),n.divButtons.classList.add("fgta5-messagebox-buttonsbar"),n.appendChild(n.divButtons),document.body.appendChild(n),n}(t,e);return new Promise((t=>{if(e.buttons)for(const[i,r]of Object.entries(e.buttons)){const e=document.createElement("button");e.classList.add("fgta5-messagebox-button"),e.innerHTML=r.Text,e.addEventListener("click",(()=>{n.close(),t(i)})),n.divButtons.appendChild(e)}else{const e=document.createElement("button");e.classList.add("fgta5-messagebox-button"),e.innerHTML="Ok",e.addEventListener("click",(()=>{n.close(),t("ok")})),n.divButtons.appendChild(e)}n.showModal()}))}function N(){const t=document.createElement("dialog");return t.classList.add("fgta5-modal-message"),t.addEventListener("close",(e=>{t.parentNode.removeChild(t)})),document.body.appendChild(t),t.showModal(),t}function I(t,e){var n=new Date(t);return{dt:new Date(n.getFullYear(),n.getMonth(),n.getDate()),boundary:new Date(e.getFullYear(),e.getMonth(),e.getDate())}}var y=Object.freeze({__proto__:null,getInvalidMessage:function(t,e,n){var i=e.getAttribute(`invalid-message-${t}`);return null!=i&&""!==i||(i=n),i},parseFunctionParam:function(t){const[e,...n]=t.split(":"),i=n.length>0?n.join(":"):null;return{fnName:e,fnParams:null!==i?isNaN(i)?i:Number(i):null}},required:function(t){return null!=t&&""!==t},minlength:function(t,e){return null==e||0===e||!(null==t||t.length<e)},maxlength:function(t,e){return null==e||0===e||!(null==t||t.length>e)},pattern:function(t,e){return!0},email:function(t,e){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(t)},min:function(t,e){return null==e||0===e||!(null==t||t<e)},max:function(t,e){return null==e||0===e||!(null==t||t>e)},mindate:function(t,e){var{dt:n,boundary:i}=I(t,e);return!(n<i)},maxdate:function(t,e){var{dt:n,boundary:i}=I(t,e);return!(n>i)},mintime:function(t,e){return!(t<e)},maxtime:function(t,e){return!(t>e)}});const E={Component:e,Form:class extends e{#i=!1;Inputs={};constructor(t){super(t),this.#r(),function(t,e){var n=document.getElementById(e);t.Id=e,t.Element=n,t.Inputs={},t.Element.addEventListener("submit",(t=>{t.preventDefault()}));for(var a=n.querySelectorAll("input"),d=0;d<a.length;d++){var l=a[d],c=l.getAttribute("fgta5-component");null!=c&&null!=l.id&&""!=l.id&&("Textbox"==c?t.Inputs[l.id]=new i(l.id):"Numberbox"==c?t.Inputs[l.id]=new r(l.id):"Datepicker"==c?t.Inputs[l.id]=new o(l.id):"Timepicker"==c?t.Inputs[l.id]=new u(l.id):"Combobox"==c||"Checkbox"==c&&(t.Inputs[l.id]=new s(l.id)))}}(this,t)}Lock(t){this.#i=v(this,t)}IsLocked(){return this.#i}Reset(){!function(t){for(var e in t.Inputs){t.Inputs[e].Reset()}}(this)}AcceptChanges(){!function(t){for(var e in t.Inputs){t.Inputs[e].AcceptChanges()}}(this)}IsChanged(){return function(t){for(var e in t.Inputs){if(t.Inputs[e].IsChanged())return!0}return!1}(this)}NewData(t){!function(t,e){for(var n in t.Inputs){var i=t.Inputs[n],r=e[i.GetBindingData()];i.NewData(r)}}(this,t)}Render(){!function(t){for(var e in t.Inputs){t.Inputs[e].bindForm(t)}t.IsLocked()?v(t,!0):v(t,!1)}(this)}Validate(){return function(t){var e=!0;for(var n in t.Inputs){var i=t.Inputs[n];e&&=i.Validate()}return e}(this)}GetData(){return function(t){var e={};for(var n in t.Inputs){var i=t.Inputs[n],r=i.GetBindingData();r&&(e[r]=i.Value)}return e}(this)}#r(){var t=this.Element.getAttribute("locked");null==t&&(t="false"),"true"===t.toLowerCase()?this.#i=!0:this.#i=!1}},Button:class extends e{constructor(t){var e;super(t),(e=this).Element.classList.add("fgta5-button"),e.Element.setAttribute("type","button")}#s=!1;get Disabled(){return this.#s}set Disabled(t){var e;this.#s=t,e=t,this.Element.disabled=e}},Textbox:i,Numberbox:r,Checkbox:s,Datepicker:o,Timepicker:u,MessageBox:g,MessageBoxButton:f,Modal:class{static Show(t){return N()}static Mask(t){return function(t){t=void 0===t?"Please wait ...":t;const e=N();var n=document.createElement("div");n.classList.add("fgta5-modal-loadermask-msg"),e.appendChild(n);var i=document.createElement("div");i.classList.add("fgta5-modal-loadermask-msg-icon"),i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><radialGradient id="a11" cx=".66" fx=".66" cy=".3125" fy=".3125" gradientTransform="scale(1.5)"><stop offset="0" stop-color="#575757"></stop><stop offset=".3" stop-color="#575757" stop-opacity=".9"></stop><stop offset=".6" stop-color="#575757" stop-opacity=".6"></stop><stop offset=".8" stop-color="#575757" stop-opacity=".3"></stop><stop offset="1" stop-color="#575757" stop-opacity="0"></stop></radialGradient><circle transform-origin="center" fill="none" stroke="url(#a11)" stroke-width="30" stroke-linecap="round" stroke-dasharray="200 1000" stroke-dashoffset="0" cx="100" cy="100" r="70"><animateTransform type="rotate" attributeName="transform" calcMode="spline" dur="1.8" values="360;0" keyTimes="0;1" keySplines="0 0 1 1" repeatCount="indefinite"></animateTransform></circle><circle transform-origin="center" fill="none" opacity=".2" stroke="#575757" stroke-width="30" stroke-linecap="round" cx="100" cy="100" r="70"></circle></svg>',n.appendChild(i);var r=document.createElement("div");return r.classList.add("fgta5-modal-loadermask-msg-text"),r.innerHTML=t,n.appendChild(r),e.setText=t=>{r.innerHTML=t},e}(t)}static Progress(t){return function(t){void 0===t&&(t={});const e=N();e.IsError=!1;var n=document.createElement("div");e.appendChild(n);var i=document.createElement("div");i.classList.add("fgta5-modal-progressbar-container"),e.appendChild(i);var r=document.createElement("label");r.classList.add("fgta5-modal-progressbar"),i.appendChild(r);var s=document.createElement("div");return s.classList.add("fgta5-modal-progressbar-text"),e.appendChild(s),e.setProgress=function(t,e){t>100&&(t=100),r.innerHTML=`${t}%`,r.style.width=`${t}%`,s.innerHTML=e},e.setError=function(t){e.IsError=!0,n.classList.add("fgta5-icon-error"),n.style.height="32px",n.style.marginBottom="10px",s.innerHTML=t,s.setAttribute("error","true"),r.setAttribute("error","true")},e.finish=function(n,i){if(void 0===n&&(n="Done"),void 0===i&&(i=!0),!0===t.buttonClose||e.IsError){i&&(s.style.display="none",r.style.width="100%",r.innerHTML="100%");var a=document.createElement("div");a.style.textAlign="center",a.style.marginTop="10px",a.style.marginBottom="0";var o=document.createElement("button");o.classList.add("fgta5-modal-button"),o.innerHTML=n,o.addEventListener("click",(()=>{e.close()})),a.appendChild(o),e.appendChild(a)}else e.close()},e}(t)}}};void 0===window.$validators?window.$validators=y:Object.assign(window.$validators,y);export{E as default};
